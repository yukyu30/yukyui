{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "fb-combobox",
  "title": "Combobox",
  "description": "fly-byデザインシステムのComboboxコンポーネント。検索可能なセレクト。",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "fb-button",
    "fb-command",
    "fb-popover"
  ],
  "files": [
    {
      "path": "registry/fly-by/ui/fb-combobox.tsx",
      "content": "import * as React from \"react\"\nimport { Check, ChevronsUpDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { FbButton } from \"@/registry/fly-by/ui/fb-button\"\nimport {\n  FbCommand,\n  FbCommandEmpty,\n  FbCommandGroup,\n  FbCommandInput,\n  FbCommandItem,\n  FbCommandList,\n} from \"@/registry/fly-by/ui/fb-command\"\nimport {\n  FbPopover,\n  FbPopoverContent,\n  FbPopoverTrigger,\n} from \"@/registry/fly-by/ui/fb-popover\"\n\n/**\n * fly-by Combobox\n *\n * 検索可能なセレクトコンポーネント。Popover + Command の組み合わせ。\n *\n * クラス構造: fb-combobox\n *\n * @example\n * const [value, setValue] = React.useState(\"\")\n *\n * <FbCombobox\n *   options={[\n *     { value: \"react\", label: \"React\" },\n *     { value: \"vue\", label: \"Vue\" },\n *   ]}\n *   value={value}\n *   onValueChange={setValue}\n *   placeholder=\"フレームワークを選択...\"\n *   searchPlaceholder=\"検索...\"\n *   emptyMessage=\"見つかりません\"\n * />\n */\n\nexport interface FbComboboxOption {\n  value: string\n  label: string\n  disabled?: boolean\n}\n\nexport interface FbComboboxProps {\n  options: FbComboboxOption[]\n  value?: string\n  onValueChange?: (value: string) => void\n  placeholder?: string\n  searchPlaceholder?: string\n  emptyMessage?: string\n  disabled?: boolean\n  className?: string\n}\n\nfunction FbCombobox({\n  options,\n  value,\n  onValueChange,\n  placeholder = \"選択してください...\",\n  searchPlaceholder = \"検索...\",\n  emptyMessage = \"見つかりません\",\n  disabled = false,\n  className,\n}: FbComboboxProps) {\n  const [open, setOpen] = React.useState(false)\n\n  const selectedOption = options.find((option) => option.value === value)\n\n  return (\n    <FbPopover open={open} onOpenChange={setOpen}>\n      <FbPopoverTrigger asChild>\n        <FbButton\n          data-slot=\"fb-combobox\"\n          appearance=\"outlined\"\n          color=\"neutral\"\n          role=\"combobox\"\n          aria-expanded={open}\n          disabled={disabled}\n          className={cn(\n            \"fb-combobox w-full justify-between font-normal\",\n            !value && \"text-gray-500\",\n            className\n          )}\n        >\n          {selectedOption ? selectedOption.label : placeholder}\n          <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n        </FbButton>\n      </FbPopoverTrigger>\n      <FbPopoverContent className=\"w-[--radix-popover-trigger-width] p-0\">\n        <FbCommand>\n          <FbCommandInput placeholder={searchPlaceholder} />\n          <FbCommandList>\n            <FbCommandEmpty>{emptyMessage}</FbCommandEmpty>\n            <FbCommandGroup>\n              {options.map((option) => (\n                <FbCommandItem\n                  key={option.value}\n                  value={option.value}\n                  disabled={option.disabled}\n                  onSelect={(currentValue) => {\n                    onValueChange?.(currentValue === value ? \"\" : currentValue)\n                    setOpen(false)\n                  }}\n                >\n                  <Check\n                    className={cn(\n                      \"mr-2 h-4 w-4\",\n                      value === option.value ? \"opacity-100\" : \"opacity-0\"\n                    )}\n                  />\n                  {option.label}\n                </FbCommandItem>\n              ))}\n            </FbCommandGroup>\n          </FbCommandList>\n        </FbCommand>\n      </FbPopoverContent>\n    </FbPopover>\n  )\n}\n\nexport { FbCombobox }\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}